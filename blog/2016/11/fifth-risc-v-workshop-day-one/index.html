<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <title>Fifth RISC-V Workshop: Day One &middot; lowRISC</title>
        <link rel="stylesheet" href="http://www.lowrisc.org/css/styles.combined.min.css" />
        <link rel="shortcut icon" href="http://www.lowrisc.org/favicon.ico" />
        <link rel="alternate" href="http://www.lowrisc.org/index.xml" type="application/rss+xml" title="lowRISC" />
        <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Source+Sans+Pro' type='text/css'>
        <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Exo+2' type='text/css'>
        <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-53520714-1', 'auto');
        ga('send', 'pageview');
      </script>
  </head>

  <body data-page="article">
<div class="header">
  <header data-component="menu">

    <section class="outer-container">
      <div class="image">
        <a href="http://www.lowrisc.org"><img src="http://www.lowrisc.org/img/logo.svg"></a>
      </div>

      <div class="menu">
        <ul>
          
          <li><a href="/"> Home </a></li>
          
          <li><a href="/about/"> About </a></li>
          
          <li><a href="/blog/"> Blog </a></li>
          
          <li><a href="/faq/"> FAQ </a></li>
          
          <li><a href="/docs/"> Docs </a></li>
          
          <li><a href="/community/"> Community </a></li>
          
        </ul>
      </div>
    </section>

  </header>
</div>









    <div class="article">
      <section class="outer-container">
        <div class="row">
            <div class="sixteen columns">
                <article class="li-article">
                
                    <header class="li-article-header">
                        <h1 class="li-article-title">Fifth RISC-V Workshop: Day One</h1>
                        <span class="li-article-taxonomies">
                            

                            
                        </span>
                        
                        
                        <time class="li-article-date">Tuesday, November 29, 2016</time>
                        
                    </header>
                    <section>
                        

<p>The <a href="https://riscv.org/2016/10/5th-risc-v-workshop-agenda/">fifth RISC-V
workshop</a> is going
on today and tomorrow at the Google&rsquo;s Quad Campus in Mountain View. I&rsquo;ll be
keeping a semi-live blog of talks and announcements throughout the day.</p>

<h2 id="introduction-rick-o-connor-and-dom-rizzo:c4d57dfb69fe6b8ac7fe4d23269f06fb">Introduction: Rick O&rsquo;Connor and Dom Rizzo</h2>

<ul>
<li>This workshop is yet again bigger than the last. 350+ attendees, 107 companies, 29 universities.</li>
<li>The next workshop will be May 9th-10 in Shanghai, China.</li>
</ul>

<h2 id="risc-v-at-uc-san-diego-michael-taylor:c4d57dfb69fe6b8ac7fe4d23269f06fb">RISC-V at UC San Diego: Michael Taylor</h2>

<ul>
<li>Startup software stacks today look a light like an iceberg. A small amount
of &lsquo;value-add&rsquo; at the top, and a huge stack of open source underneath.</li>
<li>How do we build the equivalent for hardware, the fully open source ASIC
stack?</li>
<li>Need core IP, IO pads, standard cells, PLLs, high speed I/O, tools, BGA
packages, PCB design, firmware etc</li>
<li>basejump aims to provide a &lsquo;base class&rsquo; for cheap hardware development. It
includes a standard library of components, an open source package design, and
an open source motherboard</li>
<li><code>bsg_ip_cores</code> aims to be like C++ STL, but for SystemVerilog</li>
<li>BSG Ten is a recent design featuring 10 RISC-V cores that hopes to tape out
soon.  Aim for 100% of the design will be open, including design files for the
chip, PCB, BGA package, firmware.</li>
<li>BSG Ten has its own 5-stage RV32IM pipeline</li>
<li>Also working on &lsquo;Certus&rsquo;, a 16nm TSMC design featuring Rocket cores, a
neural network accelerator, and the BSG I/O infrastructure.</li>
<li>Suggestion: RoCC interface should be wired to the toplevel of the Rocket
hierarchy</li>
<li>Suggestion: The RISC-V community should have at least yearly stable
end-to-end releases of full RISC-V stacks (Linux to Verilog)</li>
</ul>

<h2 id="updates-on-pulpino-florian-zaruba:c4d57dfb69fe6b8ac7fe4d23269f06fb">Updates on PULPino: Florian Zaruba</h2>

<ul>
<li>Imperio is the first ASIC implementation of PULPino, done in UMC 65nm.<br />
Speed: 500MHz.</li>
<li>Area is 700kGE for the SoC and 40kGE for the core (1kGE = 1.44um2).</li>
<li>What is PULP? Parallel Ultra Low Power (platform).</li>
<li>PULPino is a much simplified version of PULP, featuring just 1 core, reduced
interconnect and simplified cache design.</li>
<li>Have hardware loops, post-incrementing loads and stores and SIMD instruction
extensions.</li>
<li>Over 20 companies and research institutes are using PULPino</li>
<li>PULPinov2 is targeted for Q12017. This features support for Verilator
simulation, IP-XACT description, new peripherals (uDMA), new streamlined event
unit, SDK, updated compiler, and improved documentation and tutorials</li>
<li>In the future, want to work on a secure PULPino capable of running SeL4</li>
<li>Working on a 10kGE or less RISC-V core. Evaluating 1 and 3-stage pipeline
designs.</li>
<li>Want to explore heterogeneous configurations, featuring FPU and
accelerators.</li>
<li>Find out more at the <a href="http://www.pulp-platform.org">PULP website</a>.</li>
</ul>

<h2 id="sifive-fe310-and-low-cost-hifive1-development-board-jack-kang:c4d57dfb69fe6b8ac7fe4d23269f06fb">SiFive FE310 and low-cost HiFive1 development board: Jack Kang</h2>

<ul>
<li>SiFive is a fabless semiconductor company. Their business model is to build
custom SoC designs for their customers. Customers give specs and/or IP and
SiFive deliver packaged, tested chips.</li>
<li>Although a commercial company who may offer commercial licenses, they are
committed to updating the open source rocket-chip implementation.</li>
<li>RISC-V chips are here: the Freedom E310. This features an RV32IMAC core.<br />
320MHz+ on TSMC180G. 1.61DMIPS/MHz, 16K L1 I$, 16K data scratchpad, multiple
power domains (supports low power standby). Comes in a 6x6 48-pin QFN</li>
<li>Claim to be 9x more power efficient than Intel Quark and 2x more power
efficient than the ARM Cortex M0+.</li>
<li>The HiFive 1 is an Arduino compatible board for this chip. The board design
and SDK is/will be open source. It&rsquo;s now up on
<a href="https://www.crowdsupply.com/sifive/hifive1">CrowdSupply</a>. $59 will get you
one board.</li>
<li>The RTL for their implementations presented at the last RISC-V workshop are
now open source and <a href="https://github.com/sifive/freedom">up at GitHub</a>.</li>
<li>Question: how much (ballpark) might it cost to get 100 prototype chips? For
Freedom Everywhere (microcontroller), looking at less than $100k depending on
the level of customisation needed.</li>
<li>Question: what is the plan for getting the SiFive chips to be competitive
with the Cortex-M4 and other designs from ARM? Answer: this will come in time
with custom instructions, custom accelerators etc. The ability to customise
will result in better performance/watt than any off the shelf solution.</li>
</ul>

<h2 id="rapid-silicon-prototyping-and-production-for-risc-v-socs-neil-hand:c4d57dfb69fe6b8ac7fe4d23269f06fb">Rapid silicon prototyping and production for RISC-V SoCs: Neil Hand</h2>

<ul>
<li>Need to support rapid evolution of IoT designs.</li>
<li>IoT class designs can be achieved in tens of k$.</li>
<li>All standards based, but not open source</li>
<li>A standard cell ASIC is typically 52-78 weeks, compared to 10 weeks for a
Baysand Metal configurable standard cell.</li>
<li>Codasip have 3-stage and 5-stage implementations RISC-V implementations. The
slide compares gate count and frequency vs Rocket and ZScale (watch out for
the slides to be posted, I didn&rsquo;t get a chance to jot down the numbers)</li>
<li>Have a story for easy extensibility, adding new instructions and having a
new SDK etc generated.</li>
<li>UltraSoC provides debug</li>
<li>LLVM is the glue that holds the solution together. They generate an LLVM
compiler based on their processor model and any customer-defined extensions.</li>
<li>A test chip will be taping out very soon. Also exploring general
availability for a dev-board</li>
<li>They are developing their own alternative to QEMU for their customers with a
non-copyleft license.</li>
</ul>

<h2 id="extending-risc-v-for-application-specific-requirements-steve-cox:c4d57dfb69fe6b8ac7fe4d23269f06fb">Extending RISC-V for application-specific requirements: Steve Cox</h2>

<ul>
<li>Sometimes a pre-defined ISA is insufficient. May require an
application-optimised ISA. e.g. the Google TPU</li>
<li>ASIP designer is a tool for automating ASIP design. The process can start
with a pre-existing example model, e..g RISC-V</li>
<li>ASIP designer has been used in more than 250 unique SoC products</li>
<li>The speaker gives an example of a header compression accelerator. Start with
a simple 3-stage RV32IM core. This is 24.5k gates on TSMC 28HPM at 500MHz and
32GPRs.</li>
<li>First, consider instruction level parallelism. e.g. switching to a 2-slot
VLIW. This reduced cycle could by 21% and increased gate count by 31%.</li>
<li>Next, try adding application-specific instructions. This reduced the code
size by 56%, cycle count by 67%, and added 9% to the gate count (compared to
the original baseline).</li>
<li>Next, try adding a compare immediate and branch instruction. This reduces
code size by 8% and cycle count by 18% vs the previous result.</li>
</ul>

<h2 id="a-memory-model-for-risc-v-muralidaran-vijayaraghavan:c4d57dfb69fe6b8ac7fe4d23269f06fb">A memory model for RISC-V: Muralidaran Vijayaraghavan</h2>

<ul>
<li>Why not SC/TSO? Simple implementations have low performance.</li>
<li>Why not the POWER/ARM models? Expose too many microarchitectural details and
their axiomatic models are too complex</li>
<li>Why not RMO? The dependency requirements are too strict</li>
<li>Want a simple specification with the inclusion of sufficient fences to force
sequential consistency behaviour when necessary</li>
<li>Which is why they&rsquo;ve introduced WMM: which has a simple operational
specification like SC, TSO.</li>
<li>WMM introduces the conceptual device of an invalidation buffer. This holds
stale values that may be read by a future load.</li>
<li>WMM has reconcile fences (clears the invalidation buffer) and commit fences
(flushes the store buffer).</li>
<li>All instructions are committed in order, so stores cannot overtake loads.
This prevents &lsquo;out of thin air&rsquo; generation of values</li>
<li>A write -back coherent cache hierarchy is typically global store atomic. SMT
cores with L1 write-through caches aren&rsquo;t, so don&rsquo;t do it.</li>
<li>Mapping C++11 atomic operations to WMM is straight forward</li>
<li>Question: what is the difference to the programmer vs TSO? Answer: you would
have to put a reconcile fence whenever you require load/load ordering</li>
</ul>

<h2 id="a-memory-consistency-model-for-risc-v-caroline-trippel:c4d57dfb69fe6b8ac7fe4d23269f06fb">A Memory Consistency Model for RISC-V: Caroline Trippel</h2>

<ul>
<li>Princeton have been working on memory consistency model verification. This
resulted in PipeCheck and CCICheck. Then implemented ArMOR, which worked to
more precisely define memory models. COATCheck looks at how e.g. instructions
that are executed as a result of page table walks interact with the memory
model. Finally, TriCheck helps to verify the lowering of e.g. C++11 atomic
constructs to the ISA level, as well as checking the ISA memory model and
hardware memory model.</li>
<li>Have identified and characterised flaws in the current RISC-V memory model
specification (ASPLOS&rsquo;17).</li>
<li>Two broad categories of memory model relaxation. Preserved program order
(defines program orderings that hardware must preserve by default) and store
atomicity (defines the order in which stores become visible to cores).</li>
<li>Propose tighter preserved program order and non-multi-copy store atomicity.</li>
<li>Why allow non-multiple-copy atomic stores? Commercial ISAs e.g. ARM, Power
allow this, and RISC-V is intended to be integrated with other vendor ISAs on
a shared memory system.</li>
<li>Want preserved program order to require same address read-read ordering</li>
<li>Want PPO to maintain order between dependent instructions</li>
<li>TriCheck compares high level language outcomes to ISA-level outcomes for a
spectrum of legal ISA microarchitectures</li>
<li>The currently document RISC-V memory model lacks cumulative fences, which
are needed for C/C++ acquire/release synchronisation</li>
<li>They have formulated an english language diff of the current spec with
proposed changes, but are also working on a formal model.</li>
</ul>

<p><em>Alex Bradbury</em></p>

                    </section>
                </article>

        </div>
      </section>
    </div>
    


                

            <div id="disqus_thread"></div>
            <script type="text/javascript">
                 
                var disqus_shortname = 'lowrisc'; 
                var disqus_identifier = "/" + "blog/2016/11/fifth-risc-v-workshop-day-one";
                var disqus_title = "Fifth RISC-V Workshop: Day One";
                var disqus_url = "http://www.lowrisc.org" + "blog/2016/11/fifth-risc-v-workshop-day-one";

                 
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
            </div>
            

        <footer>

          <section class="outer-container">

            <div>
              <div class="link-container">
              </div>
            </div>

            <p>
              Unless otherwise noted, content on this site is licensed under a Creative Commons Attribution ShareAlike 4.0 International License
            </p>

          </section>

        </footer>
    </body>
</html>


    </body>
</html>

